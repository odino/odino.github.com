
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>How to make your JavaScript apps SEO-friendly - Alessandro Nadalin</title>
  <meta name="author" content="Alessandro Nadalin">

  
  
  <meta name="description" content="One of the challenges in moving your application logic
from the backend (Rails, Django or whatsoever) to the
new frontier of JS web frameworks like &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://odino.org/how-to-make-your-javascript-apps-seo-friendly">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Alessandro Nadalin" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link rel="stylesheet" href="../../stylesheets/font-awesome.min.css">

<script type="text/javascript">
(function(){
  var dom,doc,where,iframe = document.createElement('iframe');
  iframe.src = "javascript:false";
  (iframe.frameElement || iframe).style.cssText = "width: 0; height: 0; border: 0";
  where = document.getElementsByTagName('script')[0];
  where.parentNode.insertBefore(iframe, where);

  try {
    doc = iframe.contentWindow.document;
  } catch(e) {
    dom = document.domain;
    iframe.src="javascript:var d=document.open();d.domain='"+dom+"';void(0);";
    doc = iframe.contentWindow.document;
  }
  doc.open()._l = function() {
    var js = this.createElement("script");
    if(dom) this.domain = dom;
    js.id = "boomr-if-as";
    js.src = '//c.go-mpulse.net/boomerang/' +
    'XUJ46-RM4L4-CEUJZ-E4J4Z-Y2ENS';
    BOOMR_lstart=new Date().getTime();
    this.body.appendChild(js);
  };
  doc.write('<body onload="document._l();">');
  doc.close();
  })();
</script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-7407627-3']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


  <link rel="stylesheet" href="../../../stylesheets/font-awesome.min.css">
</head>
<body   class="no-sidebar"  >
  <header role="banner"><hgroup>
  <h1 class="hentry" role="title"><a href="">
    How to make your JavaScript apps SEO-friendly</a>
  </h1>
  
  <p class="article-date">
      Friday, 17 January 2014, 14:15
  </p>
</hgroup>
</header>
  <nav role="navigation"><ul class="main-navigation">
  <li><a href="/"><i class="icon-home icon-large"></i> Home</a></li>
  <li><a href="/about"><i class="icon-user icon-large"></i> About</a></li>
  <li><a href="/conferences"><i class="icon-group icon-large"></i> Conferences</a></li>
  <li><a href="/blog/archives"><i class="icon-briefcase icon-large"></i> Archives</a></li>
  <li><a href="/atom.xml"><i class="icon-rss icon-large"></i> RSS</a></li>
</ul>
</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
<div class="entry-content"><p>One of the challenges in moving your application logic
from the backend (Rails, Django or whatsoever) to the
new frontier of JS web frameworks like AngularJS and
EmberJS is how you can make them SEO-friendly, as these
JavaScript applications get sent to the browser by your
webserver as a <code>200 OK</code>, no matter if, once the app boots,
the page that its being represented is not found, or has
some specific metatags, like title and description.</p>

<!-- more -->


<p>This is, for example, how a tipical angular app&rsquo;s <code>HEAD</code>
section of the HTML looks like:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
</pre></td><td class='code'><pre><code class='html'><span class='line'><span class="nt">&lt;head&gt;</span>
</span><span class='line'>    <span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">&quot;utf-8&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>    <span class="nt">&lt;title&gt;</span>
</span><span class='line'>      {{ pageTitle }}
</span><span class='line'>    <span class="nt">&lt;/title&gt;</span>
</span><span class='line'>    <span class="nt">&lt;meta</span> <span class="na">name=</span><span class="s">&quot;keywords&quot;</span> <span class="na">content=</span><span class="s">&quot;{{ metaKeywords }}&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>    <span class="nt">&lt;meta</span> <span class="na">name=</span><span class="s">&quot;description&quot;</span> <span class="na">content=</span><span class="s">&quot;{{ metaDescription }}&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>    <span class="nt">&lt;link</span> <span class="na">type=</span><span class="s">&quot;image/x-icon&quot;</span> <span class="na">data-ng-href=</span><span class="s">&quot;https://example.org/favicon.ico&quot;</span> <span class="na">rel=</span><span class="s">&quot;shortcut icon&quot;</span><span class="nt">&gt;</span>
</span><span class='line'>    <span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">&quot;stylesheet&quot;</span> <span class="na">href=</span><span class="s">&quot;https://example.org/screen.css&quot;</span><span class="nt">&gt;</span>
</span><span class='line'><span class="nt">&lt;/head&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p></p>

<p>As you see, the page title, which is what SE like Google use
as main text in your indexed pages, is a mere placeholder for
a variable that come after the JS framework has booted and
executed its own logic, eventually leading to SERP results
like this:</p>

<p><img class="center" src="/images/google-result-placeholders.png"></p>

<p>So, how will you make sure that search engines will actually
see the post-processed HTML and not the very first one that
gets sent from your server?</p>

<p>You have at least a couple different solutions that use the
same underlying tecnique.</p>

<h2>Once feared, Cloaking is your only way</h2>

<p>The practice of <a href="http://en.wikipedia.org/wiki/Cloaking">cloaking</a>
has been penalized by search engines for years but turned out to
be <a href="https://developers.google.com/webmasters/ajax-crawling/docs/html-snapshot">endorsed by Google</a>
when you have JS-based apps.</p>

<p>It basically consist in serving to the search engine a different
version of the webpage, already rendered, instead of the one
that you would serve to a normal visitor, which has to run
the JS framework on the browser.</p>

<p>The workflow is very simple: instead of serving, from the webserver,
your traditional app that you would serve to a normal user, in case
of a bot you simply <strong>forward the request to another application</strong>,
which will request the original page, wait for it to render through
an headless browser like <a href="http://phantomjs.org/">PhantomJS</a> and then
<strong>serve back the fully rendered content</strong> to the bot:</p>

<p><img class="center" src="/images/prerender-seo.svg"></p>

<p>This is a very straightforward way to effectively implement SEO in
JS apps, and it can be achieved with a couple tools instead of
having to write the whole thing on your own.</p>

<h2>BromBone</h2>

<p><a href="http://www.brombone.com/">BromBone</a> is a service that crawls your
sitemap, generates a snapshot of the rendered HTML, stores it on
Amazon (presumably <a href="http://aws.amazon.com/s3/">S3</a>) and relieves you
from the pain of setting up the middleware SEO app on your own.</p>

<p>It basically acts as the SEO app seen in the picture, but instead of
rendering pages on the fly it does it by looking at your sitemap: once
the bot hits the webserver, you can then proxy it to the BromBone page
so that it gets the actual response from the server.</p>

<p>Even though the service is <a href="http://www.brombone.com/#pricing">very affordable</a>
relying on the sitemap it&rsquo;s a bit tricky, because, well&hellip;what happens
if you have new pages that are not included in the sitemap?</p>

<p>After bumping into this requirement we, at Namshi, decided to opt for
something else.</p>

<h2>Prerender</h2>

<p><a href="https://prerender.io/">Prerender</a> is both a SaaS and an
<a href="https://github.com/collectiveip/prerender">open source library</a>
that prerendrs pages on the fly using PhantomJS and some other
nice tricks to <a href="https://prerender.io/server#http-headers">serve the correct status codes and HTTP headers</a>.</p>

<p>The only disadvantage with rendering on the fly is that the bot will
have to wait a bit longer in order to get the response, and this might
result in a penalization from search engines: the solution is very simple,
as you can simply warm up prerender&rsquo;s cache on your own by hitting the URLs
that you want to cache.
In order to refresh the cache, Prerender lets you do <code>POST</code> requests, so
that:</p>

<ul>
<li>a <code>GET</code> request to <code>http://prerender.example.org/http://example.org/foo.html</code>
will prerender the page on the fly, so that you can cache for future requests
by real bots</li>
<li>a <code>POST</code> request to <code>http://prerender.example.org/http://example.org/foo.html</code>
will refresh the prerendered content</li>
</ul>


<p>Prerender gives you a bit more freedom compared to Brombone but it requires you
to do some manual work, at least if you want to run it on your own servers
without using their solution as a SaaS; in any case, their pricing modes
is <a href="https://prerender.io/pricing">very affordable</a> as well.</p>

<h2>What shall I use?</h2>

<p><span class='pullquote-right' data-pullquote='making SEO-friendly JavaScript apps is not a hassle anymore'>
It really depends, as both are very interesting tools: given our confidence
with NodeJS and the will of developing some of the SEO-related stuff in-house,
so that we have a bit more control over these things, we opted to give
Prerender a go, but if you feel the sitemap solution proposed by BromBone
is good enough for you, I&rsquo;d recommend you that service, as it&rsquo;s easier to
run and requires very less configuration / manual work.</p>

<p>All in all, the good thing is that, in 2014, we can finally say that
making SEO-friendly JavaScript apps is not a hassle anymore!
</span></p>
</div>

  <footer>
    <p class="meta">
<!--       
  

<span class="byline author vcard">Posted by <span class="fn">Alessandro Nadalin</span></span>

      








  


<time datetime="2014-01-17T14:15:00-05:00" pubdate data-updated="true">Friday, 17 January 2014 at 14:15</time>
 -->      

<span class="categories"><i class="icon-tags"></i>
  
    <a class='category' href='/blog/categories/angularjs/'>AngularJS</a>, <a class='category' href='/blog/categories/javascript/'>JavaScript</a>, <a class='category' href='/blog/categories/prerender/'>Prerender</a>, <a class='category' href='/blog/categories/seo/'>SEO</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://odino.org/how-to-make-your-javascript-apps-seo-friendly/" data-via="_odino_" data-counturl="http://odino.org/how-to-make-your-javascript-apps-seo-friendly/" >Tweet</a>
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/frontend-web-development-is-not-as-fun-as-it-should-be/" title="Post anterior: Frontend web development is not as fun as it could be">&laquo; Frontend web development is not as fun as it could be</a>
      
      
        <a class="basic-alignment right" href="/if-you-love-angularjs-you-should-definitely-join-us-dot-dot-dot-were-hiring/" title="PrÃ³ximo post: If you love AngularJS, you should definitely join us...we're hiring!">If you love AngularJS, you should definitely join us...we're hiring! &raquo;</a>
      
    </p>
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><script type="text/javascript">
      var disqus_shortname = 'odino';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://odino.org/how-to-make-your-javascript-apps-seo-friendly/';
        var disqus_url = 'http://odino.org/how-to-make-your-javascript-apps-seo-friendly/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script></div>
  </section>

</div>


    </div>
  </div>
</html>
<div id="footer">
    <ul class="credit">
        <li>&copy; 2014 - Alex Nadalin</li>
    </ul>
</div>
