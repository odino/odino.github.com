
<!doctype html>
<!-- BEGIN _layouts/default.html -->
<html>
	<head>
		<meta charset="utf-8">
		
		<meta content="What makes OrientDB so special? OOP, multiple protocols and much, much more" name="description">
		<meta content="Alessandro Nadalin" name="author">
		
		<title>OrientDB: just like any other NoSQL database?</title>
		<meta name="google-site-verification" content="dSNHLHJFQzKASjN8qHJisk2XLkKqbF_ilGSj9bscwKs" />
		<link href="/favicon.png" rel="icon">
		<link href="/stylesheets/screen.css" rel="stylesheet">
		<link href="/atom.xml" rel="alternate" title="Alessandro Nadalin" type="application/atom+xml">
		<link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="stylesheet" type="text/css" href="/MyFontsWebfontsKit.css">

		<meta name="twitter:card" content="summary" />
		<meta name="twitter:creator" content="@_odino_" />
		<meta property="og:url" content="https://odino.org/orientdb-just-like-any-other-nosql-database/" />
		<meta property="og:title" content="OrientDB: just like any other NoSQL database?" />
		<meta property="og:description" content="What makes OrientDB so special? OOP, multiple protocols and much, much more" />
		
	</head>
	<body>
		<div class="wrap">
			<header>
				<div class="navi">
					<ul>
                        <li><a href="/"><i class="icon-home icon-large"></i> Home</a></li>
                        <li><a href="/about"><i class="icon-user icon-large"></i> About</a></li>
                        <li><a href="/conferences"><i class="icon-group icon-large"></i> Conferences</a></li>
                        <li><a href="/archives"><i class="icon-briefcase icon-large"></i> Archives</a></li>
                        <li><a href="/atom.xml"><i class="icon-rss icon-large"></i> RSS</a></li>
					</ul>
				</div>
			</header>
			<!-- BEGIN _layouts/post.html -->

    <header>
        <h1><a href="/orientdb-just-like-any-other-nosql-database/">OrientDB: just like any other NoSQL database?</a></h1>
        <time>27 February 2015</time>
        <!-- 
        
        
        
          <br />
          <time>(note: this post was written 7 years ago and might be outdated)</time>
         -->
    </header>
<div class="entry-content "><ol class="aseries">
    <p>This post is part of the &#8221;<strong><a href="/categories/orientdb-101/">OrientDB 101</a></strong>&#8221; series, derived from a previous work started in 2013/2014: some
    information might be outdated, but the core of this series should still be intact.</p>
    <p>Here is a list of all the articles in this series:</p>
    <li>
        <a href="/the-strange-case-of-orientdb-and-graph-databases/">The strange case of OrientDB and graph databases</a>
    </li>
    <li>
        <a href="/an-overview-of-orientdbs-capabilities/">An overview of OrienDB&#8217;s capabilities</a>
    </li>
    <li>
        <a href="/going-beyond-rdbms/">Going beyond RDBMS</a>
    </li>
    <li>
        <a href="/orientdb-just-like-any-other-nosql-database/">Just like any other NoSQL database?</a>
    </li>
</ol>


<p>In the <a href="/going-beyond-rdbms/">previous post of this series</a> we saw a few features that make
NoSQL storage engines different from RDBMS and we anticipated
that OrientDB goes beyond both relational and non-relational system.</p>

<p>What makes this document-oriented NoSQL graph database so
different from other non-traditional engines?</p>

<!-- more -->


<h2>Multi-protocol support</h2>

<p>First of all, as we already saw, OrientDB supports 2 different
protocols, <strong>binary and HTTP</strong>.</p>

<p>The difference, here, is that since these interfaces are extremely
important for different cases, they both share the &ndash; almost &ndash; same
amount of features, and there is no standard protocol defined by
the development team, although the binary protocol is the most popular
as the native Java API works through it.</p>

<p>While a product like CouchDB only supports the HTTP protocol and MongoDB
weakly supports it<sup id='fnref:1'><a href='#fn:1' rel='footnote'>1</a></sup>, one of the key features of OrientDB is to almost
<code>1:1</code> map the functionalities you can access via the binary protocol on
the HTTP one: an example of this is the support of stored procedures,
called <a href="https://github.com/orientechnologies/orientdb/wiki/Functions">functions</a>, available over both protocols.</p>

<p>But multi-protocol support is not OrientDB’s killer feature, as it’s
pretty easy to achieve and doesn’t really innovate the way we intend
storage engines &ndash; it is, however, a good example of Programming By
Adapters.</p>

<h2>Object-oriented model</h2>

<p>Another interesting feature we are going to take a look at is the
object-oriented implementation under the document DB: with OrientDB
you are able to define a hierarchy between tables (they are called
&ldquo;classes&rdquo;) and thus being able to take advantage of inheritance.</p>

<p>Since a practical example is worth a million words, suppose you have
a collection of animals and want to iterate through them and output
their call. With some pseudo-code, your Animal interface and
implementing classes would look like</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="n">interface</span> <span class="no">Animal</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="k">def</span> <span class="nf">call</span><span class="p">();</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="k">class</span> <span class="nc">Dog</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="k">def</span> <span class="nf">call</span><span class="p">()</span>
</span><span class='line'>    <span class="p">{</span>
</span><span class='line'>        <span class="nb">puts</span> <span class="err">‘</span><span class="no">Arf</span><span class="o">!</span><span class="err">’</span><span class="p">;</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="k">class</span> <span class="nc">Cat</span>
</span><span class='line'><span class="p">{</span>
</span><span class='line'>    <span class="k">def</span> <span class="nf">call</span><span class="p">()</span>
</span><span class='line'>    <span class="p">{</span>
</span><span class='line'>        <span class="nb">puts</span> <span class="err">‘</span><span class="no">Meow</span><span class="o">!</span><span class="err">’</span><span class="p">;</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>The question is, how would you represent animals in the DB?</p>

<p>The code  itself is clean, but the data in the DB would lack
of differentiation:</p>

<p><img class="center" src="/images/orient-101/orient-animal-call.png"></p>

<p>As you see, different animals with different characteristics are
represented together in the same table, which is half empty since
lots of attributes don’t make sense for most animals: dogs don’t
have whiskers, while snakes like cobras, not being domestic,
don’t usually have names.</p>

<p>Representing data in this way is a bad smell (called <strong>NULLfull
antipattern</strong>, as it leads to records full of NULL attributes),
but having different tables is not always a viable solution:</p>

<p><img class="center" src="/images/orient-101/animal-different-tables.png"></p>

<p>What if you need to look for all animals with a name starting
with the letter <code>J</code> ?</p>

<p>You would need to do N queries (given
N as the number of tables representing animals with the “name”
attribute) and then merge the result or use some special
operator provided by the DBMS itself &ndash; with MySQL, for example,
you could use a <code>UNION</code>, but it wouldn’t be much practical.</p>

<p>In OrientDB we can take advantage of the OO support for this
exact scenarios, as you can simply create N classes (<code>Cat</code>, <code>Dog</code>, &hellip;)
which extend a parent class (<code>Animal</code>) and run a query on the parent class:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="no">SELECT</span> <span class="nb">name</span> <span class="no">FROM</span> <span class="no">Animal</span> <span class="no">WHERE</span> <span class="nb">name</span> <span class="no">LIKE</span> <span class="err">‘</span><span class="n">J</span><span class="o">%</span><span class="err">’</span>
</span></code></pre></td></tr></table></div></figure>


<p>You don’t have to create a &ldquo;master class&rdquo; containing all the
possible attributes for every subclass which are mostly going
to be <code>NULL</code> (thing that you can do with any document-oriented
storage engine) but at the same time <strong>this query will return
results from the Animal class and its subclasses</strong>, like no other
document database, as they are not capable to isolate and group
classes via inheritance.</p>

<h2>ACIDity</h2>

<p><span class='pullquote-right' data-pullquote='ACIDity is one of the core
concepts of OrientDB'>
One of the greatest peculiarities of OrientDB is the fact that
it melds together new concepts &ndash; taken from both the graph
and NoSQL world &ndash; and old ones, providing a unique tool that
can be used in many situations: as a matter of fact, for
example, we’ve just seen how it implements OO concepts in its
engine, which is a model that <a href="http://en.wikipedia.org/wiki/Object_database">object databases</a> first introduced
in the late ‘80s.</p>

<p>In the context of applying old but valuable patterns to modern
tools, OrientDB doesn’t stop here: ACIDity is one of the core
concepts of OrientDB, and is rarely found in other NoSQL
databases.</p>

<p>Being ACID allows OrientDB to be considered an enterprise product,
as often it is a mandatory requirements in storage
engines: consider violating atomicity in a banking environment,
where a transaction which consists in 2 operations, deposit and
withdrawal, would just run a partial update &ndash; ending in a bank
account having too much or less money, simply unacceptable.
</span></p>

<p>Following the philosophy of re-using good implementations,
patterns and practices, OrientDB supports a syntax which is
very similar to SQL:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="no">SELECT</span> <span class="nb">name</span> <span class="no">AS</span> <span class="n">aliased_name</span> <span class="no">FROM</span> <span class="no">Person</span>
</span></code></pre></td></tr></table></div></figure>


<p>As you see here we are executing a <code>SELECT</code>, retrieving a single
field &ndash; (<code>name</code>) with an alias (<code>aliased_name</code>) from a class (<code>Person</code>):
in RDBMS we would talk about selecting a column from a table,
but the main idea is that you can easily write OrientDB’s pseudo-SQL
queries if you have a good SQL background: this has been a wise
choice made by the development team to ensure that most programmers
would find themselves in a sweet spot when dealing with
a pretty new and innovative tool.</p>

<h2>Support for relations: linked data</h2>

<p>Last but not least, in the previos posts we saw that
even if it isn’t a relational database, OrientDB provides
support for linked data, as it eventually is a graph
database.</p>

<p>Coming from the relational world, you would ask yourself
how a JOIN looks like:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="no">SELECT</span> <span class="n">owner</span><span class="o">.</span><span class="n">first_name</span> <span class="n">from</span> <span class="n">pet</span> <span class="n">where</span> <span class="nb">name</span> <span class="o">=</span> <span class="err">‘</span><span class="no">Snoopy</span><span class="err">’</span>
</span></code></pre></td></tr></table></div></figure>


<p>In the above example, we are joining 2 classes &ndash; <code>pet</code> and <code>owner</code> &ndash;
via the <code>.</code> operator: OrientDB embeds pointers to other
records directly in the record themselves, and you can access
the related records with the embedded field’s name (<code>owner</code>):
the properties of the related record are accessed with the dot
and the example means “select the first name of the owner of
a pet named Snoopy”. While we are directly querying on a class
(<code>pet</code>) we can access related records without the complexity
of a <code>JOIN</code>.</p>

<p>In SQL we would need to write something like:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
</pre></td><td class='code'><pre><code class='ruby'><span class='line'><span class="no">SELECT</span> <span class="n">owner</span><span class="o">.</span><span class="n">first_name</span> <span class="no">FROM</span> <span class="n">pet</span>
</span><span class='line'><span class="no">LEFT</span> <span class="no">JOIN</span> <span class="n">owner</span> <span class="no">ON</span> <span class="p">(</span><span class="n">owner</span><span class="o">.</span><span class="n">id</span> <span class="o">=</span> <span class="n">pet</span><span class="o">.</span><span class="n">owner_id</span><span class="p">)</span>
</span><span class='line'><span class="no">WHERE</span> <span class="n">pet</span><span class="o">.</span><span class="n">name</span> <span class="o">=</span> <span class="err">‘</span><span class="no">Snoopie</span><span class="err">’</span>
</span></code></pre></td></tr></table></div></figure>


<p>As you see, the way OrientDB handles JOINs lets you save a lot
of time and results in being very intuitive when you are
reading queries, without any tradeoff: what you call JOINs in
RDBMS are called LINKs, or edges, in OrientDB.</p>

<p>But if OrientDB supports relational data, why is it classified
as a NoSQL storage engine?</p>

<p>The answer is not trivial, and its the subject of the next post
of this series.</p>

<div class="footnotes">
<span>
Notes
</span>
    <ol>
        <li id='fn:1'>through Mongo Wire protocol (http://www.mongodb.org/display/DOCS/Mongo+Wire+Protocol) or via the simple REST interface (http://www.mongodb.org/display/DOCS/Http+Interface#HttpInterface-JSONinthesimpleRESTinterface) <a href='#fnref:1' rev='footnote'>↩</a></li>
    </ol>
</div>

</div>



<div class="recent entry-content">
  <hr class="divider-cazzuto">
  <h3>
    In the mood for some more reading?
  </h3>
  <ul>
    
      <li><a href="/mysql-features-i-cant-wait-for-them-to-happen/">MySQL features I can’t wait for them to happen</a> (07 May 2022)</li>
    
      <li><a href="/dell-xps-13-9310-usb-c-port-not-recognizing-external-devices/">Dell XPS 13 9310: USB-C port not recognizing external devices</a> (25 July 2021)</li>
    
      <li><a href="/book-review-working-backwards/">Book review: Working Backwards</a> (24 July 2021)</li>
    
      <li><a href="/fwupd-is-the-best-thing-that-ever-happened-to-linux/">fwupd is the best thing that ever happened to Linux</a> (15 April 2021)</li>
    
      <li><a href="/avoid-battery-draining-on-your-linux-flavored-dell-xps/">Avoid battery draining on your Linux-flavored Dell XPS</a> (31 January 2021)</li>
    
      <li><a href="/combining-two-numbers-into-a-unique-one-pairing-functions/">Combining two numbers into a unique one: pairing functions</a> (05 December 2020)</li>
    
      <li><a href="/running-ci-tests-in-kubernetes-through-github-actions/">Running CI tests in Kubernetes through Github Actions</a> (20 March 2020)</li>
    
  </ul>
    <p>
      ...or <a href="/archives/">check the archives</a>.
    </p>
</div>
<script src="//cdnjs.cloudflare.com/ajax/libs/anchor-js/3.2.0/anchor.min.js"></script>
<script type="text/javascript" />
(function () {
  'use strict';

  anchors.options = {
    placement: 'left',
    visible: 'hover',
    icon: '¶'
  };

  anchors.add('h2');
  anchors.add('h3');
  anchors.add('h4');

})();
</script>

			<footer>
				<center>
	Copyleft <!--[if lte IE 8]><span style="filter: FlipH; -ms-filter: "FlipH"; display: inline-block;"><![endif]--><span style="-moz-transform: scaleX(-1); -o-transform: scaleX(-1); -webkit-transform: scaleX(-1); transform: scaleX(-1); display: inline-block;">©</span><!--[if lte IE 8]></span><![endif]--> 2022 — Alessandro Nadalin
	<address>
	</address>
</center>
			</footer>
		</div>
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-7407627-3', 'auto');
      ga('send', 'pageview');
	</script>
	
	<script type="application/ld+json">
		{
		"@context": "https://schema.org/",
		"@type": "BlogPosting",
		"mainEntityOfPage": {
			"@type": "WebPage",
			"@id": "https://odino.org/orientdb-just-like-any-other-nosql-database/"
		},
		"headline": "OrientDB: just like any other NoSQL database?",
		"description": "What makes OrientDB so special? OOP, multiple protocols and much, much more",
		
		"author": {
			"@type": "Person",
			"name": "Alessandro Nadalin"
		},
		"datePublished": "2015-02-27 19:44:00 +0000"
		}
	</script>
	
	</body>
</html>
<!-- END _layouts/default.html -->
