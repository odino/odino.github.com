
<!doctype html>
<!-- BEGIN _layouts/default.html -->
<html>
	<head>
		<meta charset="utf-8">
		
		<meta content="One of these mornings, in need of generating images with 'copyable' text with Node, I had the chance to play around with RaphaelJS" name="description">
		<meta content="Alessandro Nadalin" name="author">
		
		<title>Generating SVGs with RaphaelJS and NodeJS</title>
		<meta name="google-site-verification" content="dSNHLHJFQzKASjN8qHJisk2XLkKqbF_ilGSj9bscwKs" />
		<link href="/favicon.png" rel="icon">
		<link href="/stylesheets/screen.css" rel="stylesheet">
		<link href="/atom.xml" rel="alternate" title="Alessandro Nadalin" type="application/atom+xml">
		<link href="https://fonts.googleapis.com/css?family=Lato" rel="stylesheet">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<link rel="stylesheet" type="text/css" href="/MyFontsWebfontsKit.css">

		<meta name="twitter:card" content="summary" />
		<meta name="twitter:creator" content="@_odino_" />
		<meta property="og:url" content="https://odino.org/generating-svgs-with-raphaeljs-and-nodejs/" />
		<meta property="og:title" content="Generating SVGs with RaphaelJS and NodeJS" />
		<meta property="og:description" content="One of these mornings, in need of generating images with 'copyable' text with Node, I had the chance to play around with RaphaelJS" />
		
	</head>
	<body>
		<div class="wrap">
			<header>
				<div class="navi">
					<ul>
                        <li><a href="/"><i class="icon-home icon-large"></i> Home</a></li>
                        <li><a href="/about"><i class="icon-user icon-large"></i> About</a></li>
                        <li><a href="/conferences"><i class="icon-group icon-large"></i> Conferences</a></li>
                        <li><a href="/archives"><i class="icon-briefcase icon-large"></i> Archives</a></li>
                        <li><a href="/atom.xml"><i class="icon-rss icon-large"></i> RSS</a></li>
					</ul>
				</div>
			</header>
			<!-- BEGIN _layouts/post.html -->

    <header>
        <h1><a href="/generating-svgs-with-raphaeljs-and-nodejs/">Generating SVGs with RaphaelJS and NodeJS</a></h1>
        <time>16 May 2015</time>
        <!-- 
        
        
        
          <br />
          <time>(note: this post was written 6 years ago and might be outdated)</time>
         -->
    </header>
<div class="entry-content "><p>One of these mornings, in need of generating
images with &ldquo;copyable&rdquo; text with Node, I had
the chance to play around with <a href="http://raphaeljs.com/">RaphaelJS</a>.</p>

<!-- more -->


<h2>Where to start?</h2>

<p>The idea is very simple, as raphael is basically
just a simple API to draw SVGs on a canvas, and
it does that on a browser / DOM &mdash; here you can
see a map of Australia, from one of their
<a href="http://raphaeljs.com/australia.html">examples</a>:</p>

<p><svg height="300" version="1.1" width="300" xmlns="http://www.w3.org/2000/svg" style="overflow: hidden; position: relative; left: -0.18182373046875px; top: -0.363616943359375px;"><desc style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);">Created with RaphaÃ«l 2.1.2</desc><defs style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></defs><path fill="#333333" stroke="#666666" d="M214.201,220.805L213.56199999999998,222.082L213.77499999999998,224.637V225.49L214.20099999999996,225.916L215.47999999999996,224.638L215.26699999999997,221.65800000000002L214.201,220.805ZM243.377,238.691L242.952,237.415L243.59,235.71099999999998L242.952,235.07299999999998L243.59,233.36799999999997L241.887,231.23899999999998L240.821,231.02499999999998L240.397,232.30399999999997L239.119,231.664L237.628,233.367L236.564,232.727L235.5,233.58100000000002L234.648,233.15500000000003L233.158,233.79300000000003L234.22199999999998,234.85800000000003L234.00699999999998,235.28400000000002L232.73,233.793L231.66799999999998,234.64600000000002L231.878,235.49900000000002L231.45399999999998,234.43400000000003L229.53799999999998,234.86L224.63899999999998,231.87800000000001H223.362L222.934,230.81400000000002V231.66700000000003L222.084,231.45400000000004V231.87900000000005L219.102,230.38900000000004L219.317,232.09200000000004L218.67600000000002,233.37000000000003L219.52800000000002,236.99100000000004L221.02,239.12100000000004L220.592,239.54600000000005L222.723,242.31500000000005V244.23100000000005L223.36200000000002,243.59200000000004L224.42600000000002,245.50900000000004H224.852L224.42600000000002,247.00000000000006L224.21300000000002,245.72300000000007L222.29600000000002,244.01800000000006L222.93400000000003,247.85200000000006L223.57500000000002,248.06500000000005L224.639,251.25900000000004L225.704,251.68600000000004L226.767,254.02800000000005H227.408L226.98,253.81500000000005L227.408,252.96200000000005L227.83399999999997,254.24100000000004H229.53799999999998L229.32399999999998,254.66700000000003L227.83399999999997,254.24100000000004V254.87900000000005L227.408,254.66700000000006L228.046,256.37100000000004L229.53799999999998,255.73000000000005L231.878,256.1580000000001L231.66799999999998,255.51900000000006L232.51799999999997,257.00800000000004H233.79499999999996L234.64899999999997,255.73000000000005L234.00799999999998,255.09100000000004L234.862,255.30600000000004L235.076,254.45300000000003L234.436,254.24000000000004L235.28900000000002,253.81300000000005L234.436,252.75000000000006L234.649,252.32300000000006V252.96100000000007L235.076,253.38800000000006L235.289,252.75000000000006V253.38800000000006L236.14,253.81400000000005L236.35299999999998,251.47100000000006L236.99399999999997,251.68500000000006V250.40800000000007L235.92699999999996,248.70400000000006L237.41799999999998,250.62100000000007L237.84399999999997,250.40800000000007L237.41799999999998,251.68500000000006L238.272,251.04500000000007L238.057,249.98200000000008L238.69799999999998,249.7690000000001L237.63199999999998,249.1290000000001L238.69799999999998,249.3410000000001L239.123,250.4070000000001L239.976,250.1940000000001L241.04,248.2760000000001L240.40099999999998,247.2120000000001L241.253,246.78600000000012L241.46499999999997,245.0830000000001L240.825,245.2950000000001L241.891,243.1660000000001H242.53L241.891,242.95300000000012L242.743,241.67500000000013L242.317,242.95300000000012L243.381,243.37800000000013V244.65700000000012L243.809,244.01600000000013L243.169,242.52600000000012L243.377,238.691ZM241.248,228.257H243.37699999999998L243.58999999999997,228.897L244.44199999999998,228.257L243.58999999999997,227.192L241.248,228.257ZM240.396,224.637L241.248,225.49L241.887,226.98100000000002L243.59,226.34000000000003L243.165,225.27600000000004L242.738,225.70300000000003L243.165,224.63800000000003L243.37699999999998,224.21200000000005H242.52499999999998L240.81999999999996,222.08300000000006L239.54399999999995,223.57400000000007L240.39699999999996,223.78600000000006V224.637Z" stroke-width="1" stroke-linejoin="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); stroke-linejoin: round; cursor: pointer;"></path><path fill="#333333" stroke="#666666" d="M252.869,203.121L251.996,202.478L250.275,202.357L242.09300000000002,198.292L242.27100000000002,196.943L241.917,195.86100000000002L241.195,194.83300000000003L240.629,193.598L240.833,192.43L239.4,191.70000000000002L238.501,192.026L237.79,192.321L237.04999999999998,192.432L235.96699999999998,192.786L234.516,193.194L232.55499999999998,192.73299999999998L231.51799999999997,192.12999999999997L230.62199999999999,192.45699999999997L229.964,193.12299999999996L228.8,192.91899999999995L227.577,192.34799999999996L226.652,192.48699999999997L225.218,191.75799999999995L223.368,192.03799999999995L222.545,191.59399999999997L221.80399999999997,191.70399999999998L221.33299999999997,192.34199999999998L221.55599999999998,193.82299999999998L220.261,194.01799999999997L218.642,193.31699999999998L217.365,192.37399999999997L216.98600000000002,191.10599999999997L215.013,189.32299999999998L213.394,188.62199999999999L212.256,188.60399999999998L210.812,186.54999999999998L210.208,183.802L209.2,183.38899999999998L207.47899999999998,183.26999999999998L206.499,183.03799999999998L205.444,183.57699999999997L205.399,184.52999999999997L204.307,183.55899999999997L203.815,181.54999999999998L202.085,180.10999999999999L199.965,179.862L198.217,179.557L197.193,180.28L195.359,179.42L194.25,179.588L194.17,179.626V207.77800000000002L194.606,207.80900000000003L196.948,209.72500000000002V210.79000000000002L197.588,210.57600000000002L198.226,211.00300000000001L199.504,209.512L202.06,210.79L203.763,210.363L211.644,214.624L214.83700000000002,211.429L217.394,209.725H218.88400000000001L219.312,208.45L217.82000000000002,208.875L216.967,208.235H218.03L220.801,206.10600000000002L222.07799999999997,208.66100000000003L220.801,210.36400000000003L218.884,209.94000000000003L220.801,211.64200000000002L222.07799999999997,210.79000000000002L222.71799999999996,211.00300000000001L222.92899999999997,209.3H224.42099999999996L224.84699999999995,210.57600000000002L223.99499999999995,210.79000000000002L223.77999999999994,212.06600000000003L225.26999999999995,213.13100000000003L226.76099999999997,212.91800000000003L226.97499999999997,213.34400000000002L226.33599999999996,213.13100000000003L227.39999999999995,215.04700000000003L228.25099999999995,214.40700000000004L229.10399999999996,214.83400000000003L228.89099999999996,214.19400000000005L229.74499999999998,215.89900000000006L230.80899999999997,216.96200000000005L231.23499999999996,214.19300000000004L229.95799999999997,215.04500000000004L229.53199999999998,213.34200000000004H231.66199999999998L234.188,212.49900000000005L238.262,208.23000000000005L241.03,206.52700000000004L237.624,208.01600000000005L239.541,206.73800000000006L239.47,206.66800000000006L238.902,206.10100000000006L240.39399999999998,206.52800000000005L242.09699999999998,205.88800000000006L241.884,206.31500000000005L251.255,205.46200000000005L253.17,203.75900000000004L252.53199999999998,203.11900000000006H252.869Z" stroke-width="1" stroke-linejoin="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); stroke-linejoin: round; cursor: pointer;"></path><path fill="#333333" stroke="#666666" d="M278.939,132.632L278.298,131.779L278.481,129.809L277.506,129.9L276.58599999999996,129.808L276.08,130.22299999999998L275.554,130.457L275.013,130.51L274.07399999999996,130.239L273.025,130.707L272.212,129.874L271.274,129.602L270.423,130.233L269.753,130.847L268.66999999999996,130.953L267.76599999999996,131.043L267.65799999999996,131.78400000000002L267.94599999999997,132.85200000000003L268.66799999999995,132.77900000000002L268.01699999999994,133.574L267.8879999999999,134.133L266.83899999999994,134.603L266.08199999999994,134.312L265.64899999999994,133.62400000000002L264.99799999999993,134.41800000000003L264.3469999999999,135.21300000000002L264.0379999999999,135.79100000000003L263.3499999999999,136.22400000000002L262.8799999999999,135.175L262.81099999999986,134.452L262.37599999999986,133.764L261.96099999999984,133.257L261.32999999999987,132.407L260.2089999999999,132.15300000000002L258.5659999999999,132.13200000000003L257.9889999999999,131.82300000000004L257.2279999999999,131.53300000000004L256.5059999999999,131.60400000000004L256.2709999999999,131.08000000000004L255.3679999999999,131.16900000000004L253.9579999999999,131.67300000000003L252.6579999999999,131.43600000000004L251.3369999999999,131.02000000000004L250.7959999999999,131.07300000000004L250,132.249L248.896,132.176L248.82299999999998,133.278L248.10099999999997,133.35L248.15399999999997,133.893L247.28499999999997,134.342L194.17199999999997,134.29000000000002L194.16999999999996,134.33300000000003V179.62500000000003L194.24999999999997,179.58700000000002L195.35899999999998,179.419L197.19299999999998,180.27900000000002L198.21699999999998,179.556L199.96499999999997,179.86100000000002L202.08499999999998,180.109L203.81499999999997,181.549L204.30699999999996,183.558L205.39899999999997,184.529L205.44399999999996,183.576L206.49899999999997,183.037L207.47899999999996,183.269L209.19999999999996,183.388L210.20799999999997,183.80100000000002L210.81199999999998,186.549L212.25599999999997,188.603L213.39399999999998,188.621L215.01299999999998,189.322L216.986,191.105L217.36499999999998,192.373L218.64199999999997,193.316L220.26099999999997,194.017L221.55599999999995,193.822L221.33299999999994,192.341L221.80399999999995,191.703L222.54499999999996,191.593L223.36799999999997,192.03699999999998L225.21799999999996,191.75699999999998L226.65199999999996,192.486L227.57699999999997,192.34699999999998L228.79999999999998,192.91799999999998L229.96399999999997,193.12199999999999L230.62199999999996,192.456L231.51799999999994,192.129L232.55499999999995,192.732L234.51599999999996,193.193L235.96699999999996,192.78500000000003L237.04999999999995,192.431L237.78999999999996,192.32000000000002L238.50099999999998,192.02500000000003L239.39999999999998,191.69900000000004L240.83299999999997,192.42900000000003L240.62899999999996,193.59700000000004L241.19499999999996,194.83200000000005L241.91699999999997,195.86000000000004L242.271,196.94200000000004L242.093,198.29100000000003L250.27499999999998,202.35600000000002L251.99599999999998,202.47700000000003L252.86899999999997,203.12000000000003H253.38199999999998L253.16899999999998,203.76000000000002L253.28099999999998,203.424L253.50799999999998,203.591L254.44699999999997,203.12L254.23399999999998,201.416L254.66099999999997,201.204H255.08599999999998L254.66099999999997,200.139L253.80799999999996,199.92600000000002L254.23399999999995,199.073L253.80799999999996,198.00900000000001L254.23399999999995,198.223L254.66099999999994,196.732L255.51199999999994,193.326L255.29899999999995,191.195L255.72499999999994,189.918H255.29899999999995L256.364,189.066L255.724,188.213L256.578,188.426L258.28099999999995,184.38L259.77099999999996,183.952L259.12999999999994,182.677L259.77099999999996,182.463V183.316L260.19499999999994,183.102L259.77099999999996,181.826L259.34499999999997,182.039L259.558,181.613L258.704,181.4L260.194,180.76000000000002L260.62100000000004,179.269L260.194,178.63L260.834,178.415V176.926L262.537,175.22299999999998L261.899,175.009L262.962,174.796L261.686,174.37L263.17499999999995,174.157L263.38899999999995,173.09300000000002L262.74899999999997,173.519L262.32199999999995,173.09300000000002L262.96199999999993,173.306L262.7489999999999,172.667L263.3889999999999,173.093L263.6019999999999,171.38899999999998V171.177L263.1749999999999,171.602V170.963L262.9619999999999,171.177L262.74899999999985,170.536L263.38899999999984,170.963L263.60199999999986,169.899V170.752L264.45399999999984,170.32600000000002L264.66799999999984,169.26200000000003L264.2409999999998,168.83500000000004H265.0949999999998L265.7319999999998,167.13200000000003L265.0949999999998,167.98500000000004L264.8809999999998,167.13200000000003H265.5189999999998V166.27900000000002L265.7319999999998,167.13200000000003L266.5859999999998,165.64100000000002L266.37299999999976,165.21500000000003H266.7999999999998V165.85500000000002L269.35599999999977,164.364L268.50299999999976,164.151L267.64999999999975,164.79000000000002L267.4369999999997,164.57700000000003L267.8629999999997,164.15100000000004L267.6499999999997,163.72500000000005L268.5029999999997,164.15100000000004L269.1409999999997,163.72500000000005L269.35599999999965,164.15100000000004L270.20899999999966,162.87400000000005L271.69799999999964,162.02100000000004L271.91199999999964,160.31900000000005L271.27199999999965,160.10400000000004V160.53200000000004L270.4199999999997,160.10400000000004H271.4839999999997L271.6969999999997,158.61400000000003L273.1869999999997,157.33700000000005L275.10499999999973,151.16100000000006L274.8919999999997,146.90100000000007L276.3809999999997,143.06700000000006L276.5939999999997,142.42800000000005L277.2339999999997,138.80800000000005L276.5939999999997,138.38200000000006L277.2339999999997,138.59500000000006L277.0209999999997,137.74200000000005L278.72399999999965,134.54900000000004H278.29799999999966L278.72399999999965,134.33500000000004L278.939,132.632ZM261.268,143.072H261.053L260.84,142.433L261.481,142.219L261.268,143.072Z" stroke-width="1" stroke-linejoin="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); stroke-linejoin: round; cursor: pointer;"></path><path fill="#333333" stroke="#666666" d="M278.516,129.443L277.665,128.591L277.059,126.045L276.6,124.119L275.961,123.267L275.32,123.692L275.748,123.053L274.894,122.627L275.535,121.988L274.894,121.349L275.748,120.923L275.10699999999997,120.284V119.64500000000001L276.171,120.92200000000001L275.533,119.00500000000001L275.319,119.64500000000001L275.74600000000004,117.94100000000002L275.326,117.66200000000002L275.533,115.81100000000002H275.106L275.959,112.40400000000002H275.533L275.106,111.55200000000002L274.678,112.82900000000002L274.893,111.76500000000001H274.25399999999996L274.67799999999994,111.33900000000001L273.82699999999994,110.70000000000002V109.42200000000001L274.4649999999999,108.78300000000002L273.18799999999993,109.20900000000002L274.2539999999999,108.78300000000002L274.0399999999999,107.71800000000002L271.6969999999999,107.07900000000002L272.3369999999999,106.65300000000002L271.05899999999986,105.16200000000002L271.2719999999999,104.31000000000002L270.63299999999987,103.88400000000001L270.41999999999985,104.31000000000002L270.63299999999987,103.67100000000002L269.3559999999999,103.03100000000002V103.24400000000001L268.29199999999986,102.17900000000002L267.22799999999984,99.41000000000001L266.37499999999983,99.19800000000001L266.58799999999985,98.346L266.16199999999986,98.985V98.35L265.5219999999999,98.137L265.94799999999987,98.989L265.0959999999999,98.563V98.989L264.2429999999999,98.563V98.989L261.4739999999999,95.156L260.8339999999999,96.00800000000001L259.9829999999999,94.73100000000001L260.40699999999987,94.51800000000001L259.76799999999986,93.24000000000001L260.19399999999985,92.81500000000001L259.55499999999984,90.47300000000001H259.98299999999983L260.19399999999985,88.76800000000001L259.76799999999986,87.70400000000001V88.343L259.34199999999987,88.13000000000001L258.91499999999985,87.278L259.55499999999984,87.491L259.76799999999986,87.278L259.1279999999999,86.21300000000001V87.06500000000001L258.91499999999985,86.21300000000001L258.48899999999986,86.001L258.2769999999999,86.64L258.91499999999985,87.705L258.48899999999986,87.492L258.91499999999985,88.557L255.93599999999984,86.427L254.86999999999983,84.72300000000001L254.65899999999982,85.14900000000002L254.01799999999983,86.21300000000002L254.65899999999982,87.70400000000002L255.08399999999983,88.55600000000003L254.65899999999982,88.13000000000002L253.37999999999982,86.64000000000003L252.10299999999984,88.13000000000002L252.74399999999983,86.64000000000003H251.88999999999982L252.3159999999998,86.42700000000004L252.1029999999998,86.00200000000004L251.2519999999998,86.21400000000004L252.1029999999998,85.78800000000004L250.8269999999998,82.80700000000004L251.2539999999998,80.46500000000005L251.0399999999998,80.89000000000004L250.18699999999978,80.03800000000004L249.9739999999998,80.46500000000005V78.54800000000004L249.1219999999998,78.97300000000004L249.33499999999978,78.33400000000005H249.1219999999998L249.5459999999998,77.26900000000005L248.6949999999998,76.41700000000004L248.0549999999998,76.84300000000005L248.2679999999998,75.99100000000004H246.7779999999998L246.5649999999998,75.35200000000005L246.9909999999998,75.13900000000005L245.92899999999977,74.50000000000006L246.1399999999998,74.07400000000005L245.50099999999978,73.43500000000006L246.1399999999998,73.22200000000007L245.71499999999978,72.79600000000006L246.35299999999978,73.00900000000006L246.56599999999978,72.58300000000006L247.63099999999977,73.43500000000006L246.35299999999978,71.30500000000006L245.92899999999977,71.51800000000006V70.87900000000006H245.28799999999978L245.0749999999998,70.02700000000006H244.22099999999978V70.87900000000006L243.58199999999977,70.66600000000007L242.72799999999975,69.81400000000006L242.94299999999976,69.60100000000007V69.38800000000008L241.87899999999976,68.74900000000008L240.60199999999978,68.96200000000007L240.1759999999998,67.47000000000007H239.5359999999998L239.9619999999998,68.53500000000007L239.10899999999978,68.32200000000007L237.8319999999998,67.04500000000007L238.6859999999998,67.47000000000007L237.4069999999998,64.70200000000007V65.55400000000007L235.49099999999981,65.76600000000008L234.6389999999998,63.85000000000008L234.42599999999982,64.70200000000008H233.78499999999983L233.14599999999982,63.85000000000009L231.01699999999983,62.997000000000085L229.73999999999984,61.50700000000008L230.16499999999985,59.165000000000084H229.31199999999984L227.82299999999984,56.60900000000009L228.88599999999983,52.98900000000009H228.45899999999983V51.28500000000009L227.18299999999982,48.94200000000009L227.6089999999998,47.87800000000009L226.5439999999998,48.090000000000096L223.9899999999998,44.68300000000009V43.618000000000094H224.4159999999998V42.12800000000009L223.56199999999978,41.063000000000095L223.3489999999998,38.721000000000096L222.4969999999998,37.8690000000001L223.56099999999978,36.5910000000001V36.3780000000001L222.9199999999998,36.5910000000001L222.70899999999978,35.5260000000001L223.56099999999978,34.4620000000001H223.13299999999978L222.70899999999978,33.610000000000106L221.42999999999978,33.397000000000105L220.57799999999978,32.119000000000106L219.08799999999977,31.694000000000106L218.02399999999977,28.925000000000104L216.7469999999998,29.990000000000105L215.89299999999977,29.564000000000107L215.46899999999977,30.842000000000105L214.18999999999977,31.481000000000105L213.12699999999978,30.629000000000104L212.4869999999998,27.860000000000106L211.4229999999998,26.156000000000105L211.8509999999998,24.026000000000106L211.2099999999998,21.897000000000105L211.4229999999998,19.980000000000103L210.14599999999982,20.406000000000102L210.78499999999983,18.4900000000001L209.50799999999984,17.6380000000001V16.7860000000001L208.44599999999983,16.5730000000001L208.23099999999982,15.0820000000001L209.5079999999998,14.0180000000001L208.4459999999998,13.5910000000001L207.59199999999979,13.8040000000001L206.95399999999978,13.1650000000001V9.97L206.09999999999977,7.414000000000001H205.45999999999978L205.03599999999977,6.562V6.988L204.18199999999976,7.413L205.24799999999976,5.7090000000000005L205.03499999999977,5.496L204.82099999999977,5.284000000000001L203.96799999999976,5.496L203.32899999999975,6.774000000000001L202.055,7.2L202.27,8.265L201.63000000000002,11.034H201.41700000000003L201.20400000000004,12.524000000000001H201.84200000000004L200.99000000000004,12.737L200.77700000000004,14.015L201.20400000000004,14.654L201.63000000000002,14.227L201.20400000000004,14.867L200.77700000000004,14.654000000000002L200.56400000000005,15.506000000000002L200.35100000000006,14.016000000000002L199.28700000000006,15.720000000000002L199.92700000000005,15.933000000000002H199.28700000000006L198.43300000000005,18.062H199.07400000000004L198.86100000000005,17.21L199.50000000000006,17.423000000000002L199.07400000000007,17.636000000000003L199.92700000000008,18.275000000000002H200.99100000000007L199.92700000000008,18.701L200.99100000000007,19.127L200.56400000000008,19.34L200.77700000000007,20.404L199.92500000000007,18.913L199.49800000000008,19.978L198.43300000000008,20.830000000000002L199.07400000000007,22.747000000000003L198.86100000000008,23.386000000000003L199.28700000000006,23.173000000000002L199.07400000000007,23.386000000000003L199.50000000000006,23.599000000000004H198.64600000000004L197.58400000000003,26.793000000000003L198.64600000000004,29.136000000000003L198.00800000000004,31.265000000000004L198.86100000000005,35.098000000000006L197.58400000000006,38.50500000000001L196.94300000000007,41.06000000000001L197.37000000000006,42.12500000000001L195.88000000000005,46.38400000000001L194.17700000000005,48.51400000000001L193.75000000000006,51.28300000000001L191.83300000000006,52.77400000000001L188.21300000000005,53.626000000000005L187.78600000000006,53.413000000000004L186.50900000000007,52.56100000000001L185.02000000000007,52.348000000000006L184.16600000000005,51.284000000000006L182.67600000000004,50.645L182.24900000000005,48.729000000000006L181.39800000000005,47.87700000000001L178.62900000000005,47.02400000000001L175.22000000000006,46.59900000000001L173.39800000000005,44.16900000000001V117.35100000000001H194.16900000000004V134.33300000000003L194.17100000000005,134.29000000000002L247.28400000000005,134.342L248.15300000000005,133.893L248.10000000000005,133.35L248.82200000000006,133.278L248.89500000000007,132.176L249.99900000000008,132.249L250.79500000000007,131.076L251.33600000000007,131.023L252.65700000000007,131.439L253.95700000000008,131.676L255.36700000000008,131.172L256.2700000000001,131.083L256.5050000000001,131.607L257.2270000000001,131.536L257.9880000000001,131.826L258.5650000000001,132.135L260.2080000000001,132.15599999999998L261.32900000000006,132.40999999999997L261.96000000000004,133.25999999999996L262.37500000000006,133.76699999999997L262.81000000000006,134.45499999999996L262.8790000000001,135.17799999999997L263.3490000000001,136.22699999999998L264.0370000000001,135.79399999999998L264.3460000000001,135.21599999999998L264.9970000000001,134.421L265.64800000000014,133.62699999999998L266.08100000000013,134.31499999999997L266.83800000000014,134.60599999999997L267.8870000000001,134.13599999999997L268.01600000000013,133.57699999999997L268.66700000000014,132.78199999999998L267.94500000000016,132.855L267.65700000000015,131.78699999999998L267.76500000000016,131.04599999999996L268.66900000000015,130.95599999999996L269.7520000000002,130.84999999999997L270.4220000000002,130.23599999999996L271.2730000000002,129.60499999999996L272.2110000000002,129.87699999999995L273.02400000000017,130.70999999999995L274.07300000000015,130.24199999999996L275.01200000000017,130.51299999999995L275.55300000000017,130.45999999999995L276.0790000000002,130.22599999999994L276.58500000000015,129.81099999999995L277.50500000000017,129.90299999999996L278.4800000000002,129.81199999999995L278.2970000000002,131.78199999999995L278.516,129.443ZM274.258,109.85L275.10999999999996,111.341L277.02599999999995,105.58999999999999L276.59999999999997,104.73799999999999V103.24799999999999L275.537,104.1L276.387,105.378L274.683,107.295H275.111L274.683,108.785L274.258,109.85Z" stroke-width="1" stroke-linejoin="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); stroke-linejoin: round; cursor: pointer;"></path><path fill="#333333" stroke="#666666" d="M166.71,26.155V26.794H165.859L165.64600000000002,25.942L165.859,25.517L164.793,25.729L165.221,26.369L163.731,26.794V27.859L163.944,28.711000000000002L163.303,29.563000000000002L163.944,29.137000000000004L165.434,29.989000000000004H167.35L167.137,28.924000000000003L166.923,29.35L165.86,29.137V28.286L166.49900000000002,28.072000000000003L166.28600000000003,27.434L167.35000000000002,26.582L166.71,26.155ZM172.666,43.192L170.536,42.553L167.767,40.635999999999996L167.127,40.848L167.34,41.274L166.275,40.848L165.636,41.061V40.209L163.293,39.144000000000005L162.442,37.440000000000005L159.035,35.31100000000001L158.821,35.52300000000001V35.1L158.18,35.313L157.118,34.248000000000005L156.69,32.758L157.96699999999998,32.332L159.033,29.776L160.30999999999997,29.137L160.52299999999997,27.859L161.58599999999996,25.517000000000003L160.73299999999995,26.156000000000002L160.30699999999996,25.943L160.09299999999996,24.026L160.51999999999995,24.239L160.94599999999994,23.813000000000002L160.30699999999993,23.6L160.51999999999992,22.961000000000002L161.15899999999993,22.535000000000004L161.37199999999993,23.174000000000003L162.01199999999992,21.897000000000002L162.2259999999999,22.962000000000003L162.4389999999999,21.897000000000002L163.07799999999992,22.110000000000003L163.2909999999999,21.471000000000004L163.7179999999999,22.536000000000005L163.2909999999999,23.175000000000004L164.14499999999992,22.749000000000006L164.78199999999993,21.471000000000007L164.14499999999992,20.832000000000008L165.42099999999994,21.04500000000001L164.14499999999992,19.55400000000001L164.56899999999993,19.76700000000001L164.78199999999993,19.34100000000001L165.20999999999992,19.98000000000001L164.99699999999993,19.12800000000001H165.63599999999994L166.06399999999994,18.06300000000001L165.85099999999994,17.42400000000001H166.27499999999995V18.06300000000001L167.55299999999994,16.57200000000001L166.27499999999995,15.29400000000001L165.63599999999994,15.721000000000009L166.06399999999994,16.146000000000008H165.42299999999994L164.56899999999993,14.229000000000008H164.14499999999992L164.78199999999993,13.377000000000008L162.22699999999992,15.294000000000008L163.71799999999993,15.721000000000007L163.07799999999995,16.998000000000008L162.43899999999994,17.425000000000008L161.58599999999993,17.212000000000007L161.15899999999993,17.638000000000005V16.998000000000005H160.73299999999995L161.37199999999996,15.934000000000005L160.73299999999995,16.146000000000004L160.51999999999995,15.721000000000004L161.37199999999996,14.656000000000004L159.66899999999995,15.508000000000004L159.45499999999996,16.147000000000006L158.81699999999995,15.722000000000005L160.51999999999995,13.805000000000005L158.17599999999996,15.082000000000004L157.96299999999997,14.657000000000004L156.90099999999995,14.870000000000003L155.83499999999995,15.509000000000002L156.68899999999996,15.935000000000002L155.41199999999998,15.722000000000003L155.837,16.361000000000004L153.28099999999998,15.296000000000005L152.64199999999997,13.806000000000004L151.78999999999996,14.871000000000004L149.23299999999998,14.231000000000003L148.59199999999998,15.509000000000004L149.01999999999998,14.444000000000004L148.59199999999998,13.592000000000004L148.16799999999998,13.805000000000003L147.95399999999998,13.166000000000004L147.10099999999997,13.805000000000003L146.46199999999996,13.166000000000004L147.10099999999997,12.526000000000003L146.24899999999997,12.314000000000004L144.33199999999997,13.378000000000004L144.54499999999996,12.526000000000003L144.11799999999997,12.952000000000004L143.69199999999998,12.313000000000004L143.05399999999997,12.739000000000004L143.26599999999996,12.100000000000005L141.98799999999997,12.313000000000004L140.49799999999996,9.757000000000005H140.07199999999997L140.28399999999996,10.397000000000006L139.85899999999995,10.184000000000006L138.79399999999995,11.036000000000007L137.30299999999994,8.906000000000006L136.87699999999995,9.545000000000005L136.66399999999996,8.267000000000005L136.02599999999995,8.693000000000005L136.23799999999994,9.332000000000004L135.17299999999994,8.267000000000005L135.38599999999994,9.545000000000005L135.81199999999993,9.757000000000005L135.38599999999994,10.397000000000006L134.95999999999995,8.906000000000006L134.10899999999995,8.267000000000007V9.119000000000007L133.04299999999995,8.906000000000008L133.25599999999994,9.332000000000008L132.83099999999993,9.757000000000009L133.89599999999993,9.545000000000009L134.10899999999992,9.971000000000009L133.89599999999993,10.184000000000008L134.74799999999993,10.397000000000007L134.95999999999992,11.036000000000007L135.81299999999993,10.610000000000007L137.72999999999993,10.397000000000007V10.822000000000008H138.15599999999992L137.72999999999993,11.035000000000007L138.36799999999994,11.248000000000006H137.94199999999995L138.36799999999994,11.461000000000006L137.94199999999995,11.673000000000005H139.21999999999994L138.15499999999994,12.738000000000005L139.00699999999995,13.377000000000004L138.6,13.59L138.387,14.868L139.452,15.293000000000001L137.96099999999998,14.868L137.32199999999997,15.293000000000001L137.10899999999998,16.571L136.683,15.506000000000002L136.045,15.932000000000002L135.832,15.292000000000002L134.767,16.357000000000003L133.702,15.718000000000004L130.721,16.143000000000004L129.868,15.504000000000005L129.655,14.439000000000005L129.229,15.717000000000006L127.52500000000002,15.290000000000006L127.95100000000002,16.782000000000007L126.88600000000002,16.569000000000006L126.46000000000002,16.994000000000007L127.52500000000002,17.846000000000007L126.67300000000002,17.634000000000007L127.07200000000002,18.299000000000007L126.67300000000002,18.698000000000008L126.24700000000001,17.846000000000007V18.059000000000008L125.82100000000001,18.27200000000001L126.034,17.207000000000008L124.756,16.994000000000007L124.969,18.486000000000008H124.54299999999999L125.82,19.125000000000007H125.181V19.550000000000008L124.116,18.486000000000008L123.477,18.698000000000008L123.69,19.124000000000006L123.265,18.698000000000008V20.189000000000007L121.774,20.614000000000008V22.105000000000008L123.052,23.596000000000007L122.626,23.383000000000006L120.92200000000001,24.661000000000005L120.28300000000002,24.448000000000004V24.022000000000006L119.64400000000002,24.448000000000004L119.43100000000003,26.365000000000006L119.85700000000003,26.152000000000005L119.00500000000002,26.791000000000004L119.21800000000002,27.856000000000005L118.57900000000002,28.283000000000005L118.15300000000002,27.856000000000005L118.57900000000002,28.921000000000006L118.15300000000002,28.494000000000007L117.72700000000002,29.346000000000007L117.51400000000002,28.707000000000008L116.66200000000002,30.197000000000006V30.837000000000007L117.30100000000002,31.476000000000006L117.72700000000002,31.050000000000008V31.69000000000001L118.57900000000002,31.477000000000007L118.79200000000002,31.903000000000006L119.64400000000002,31.477000000000007L119.43100000000003,31.903000000000006L118.36600000000003,32.54200000000001H119.00500000000002V32.96800000000001H118.79300000000002L118.93500000000002,33.25200000000001L119.09800000000001,33.33300000000001L119.64500000000001,32.96800000000001L119.43200000000002,33.60700000000001L120.92300000000002,32.75500000000002V33.39400000000002H120.07100000000001L120.49700000000001,33.81900000000002L119.85800000000002,33.60700000000001H119.43200000000002H118.58000000000001L119.00600000000001,34.45900000000001L118.58000000000001,34.03300000000001L118.793,35.52300000000001L118.15400000000001,35.73600000000001L117.51500000000001,34.24500000000001L116.87600000000002,34.03200000000001L117.08900000000001,35.09700000000001L116.23700000000001,33.81900000000001L116.45,34.24500000000001H115.811L116.23700000000001,34.884000000000015L115.811,35.31000000000002L116.45,35.52200000000002H115.811L115.59800000000001,36.37400000000002V35.735000000000014L115.17200000000001,36.58700000000001L115.59800000000001,35.52200000000001L115.38500000000002,35.30900000000001L115.59800000000001,34.67000000000001L115.17200000000001,34.458000000000006V34.67000000000001L115.38400000000001,35.30900000000001L114.95800000000001,34.88300000000001V34.03100000000001L114.53200000000001,34.670000000000016V33.81800000000002H113.81900000000002V42.37500000000002L114.53500000000001,42.55500000000002L114.32200000000002,43.194000000000024L113.81900000000002,43.36200000000002V43.94800000000002L113.89600000000002,44.258000000000024L113.81900000000002,44.33500000000002V117.35100000000003H173.399V44.169L172.666,43.192ZM125.184,12.525L127.313,13.803L129.443,12.525L130.08200000000002,11.461L130.722,11.673V10.821L131.36,10.609L130.50900000000001,9.331H129.656L129.44400000000002,8.692L128.805,9.544L129.231,10.609L128.593,9.118L128.38,9.757L127.954,9.545V10.822L127.741,9.757H127.528L126.88900000000001,9.545L125.611,9.971L126.46300000000001,11.249L125.611,10.823L125.39800000000001,9.758000000000001L124.97200000000001,10.184000000000001L125.185,10.397H124.97200000000001V10.184000000000001V9.332L123.48100000000001,8.48L124.00600000000001,11.277000000000001L123.26900000000002,11.462000000000002L123.69400000000002,11.036000000000001L123.26900000000002,11.249L123.69400000000002,10.397L123.26900000000002,9.545L121.77800000000002,10.61L122.63000000000002,11.036H122.20400000000002V11.888L122.41600000000003,12.03V12.527L122.20400000000002,11.888L121.99100000000003,12.314L121.35200000000003,11.888V12.74H120.92600000000003L124.97200000000004,13.166L125.184,12.525ZM123.906,12.525L124.063,11.586L124.119,11.886000000000001L125.18299999999999,12.524000000000001L124.119,12.099L123.906,12.525Z" stroke-width="1" stroke-linejoin="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); stroke-linejoin: round; cursor: pointer;"></path><path fill="#333333" stroke="#666666" d="M113.819,117.351V156.311L114.321,156.06L120.923,155.419L121.987,155.20700000000002L126.247,155.633L128.59,154.357L132.636,156.486L135.617,158.828H137.534L137.321,158.40200000000002L137.74699999999999,158.18900000000002H139.238L141.793,160.32000000000002H144.34900000000002L143.70900000000003,159.68000000000004L144.13500000000002,159.46600000000004L144.562,159.89200000000002L144.988,159.25300000000001L147.329,161.596L146.691,161.81V162.873L147.967,162.233L148.82000000000002,162.446L149.67300000000003,164.149L149.03300000000004,165.00300000000001L149.24600000000004,164.364H148.18400000000003L148.60800000000003,165.216L148.18400000000003,165.857L149.03500000000003,166.068L148.60800000000003,166.709L149.88600000000002,167.986L149.46000000000004,166.709L150.10000000000002,167.986L150.73900000000003,167.56L152.01600000000002,168.413L151.37600000000003,167.77300000000002L152.43900000000002,167.98600000000002L152.01500000000001,168.413L153.29100000000003,170.115V171.392L155.63500000000002,173.523L156.912,179.273L157.125,178.633L157.338,179.273L157.763,179.486L156.912,179.69899999999998L156.485,178.84599999999998L156.698,178.63299999999998L155.844,178.41899999999998V177.99399999999997L155.206,179.26999999999998L156.057,178.844L158.61499999999998,182.03799999999998L159.67799999999997,181.398L160.74299999999997,182.676L161.16799999999998,180.332L159.67799999999997,180.97199999999998L160.31899999999996,180.545L160.53199999999995,178.84199999999998L161.38299999999995,178.415L161.80999999999995,178.84199999999998V177.35299999999998L165.00399999999993,173.73199999999997L167.55999999999995,172.45499999999998L166.91999999999996,172.66799999999998L167.34699999999995,171.81599999999997L167.77499999999995,172.23999999999998L169.26499999999996,171.81599999999997L170.75399999999996,167.55499999999998L172.03099999999995,166.06399999999996L172.88399999999996,166.49199999999996V162.23199999999997L173.94799999999995,164.57399999999998L174.16099999999994,166.492L174.80099999999993,167.131L173.09699999999992,168.621L174.3739999999999,170.964L171.81699999999992,173.52L171.17999999999992,175.43800000000002L170.75199999999992,175.651L171.17999999999992,176.92700000000002L170.53899999999993,178.205L170.96499999999992,177.99200000000002L171.17999999999992,179.269L170.75199999999992,181.82500000000002L170.32499999999993,182.251L167.77099999999993,181.61100000000002L166.70499999999993,184.805L168.83499999999992,184.591L170.53899999999993,183.316L172.02899999999994,183.954L172.88199999999995,183.529L172.45599999999996,183.101L173.51899999999995,180.759L173.73199999999994,178.629L175.01099999999994,175.648L178.20399999999995,181.185L177.77599999999995,181.398L177.56299999999996,180.759L177.34999999999997,185.445L175.00799999999995,187.57399999999998L177.98899999999995,187.78799999999998L179.26499999999996,186.724L180.32999999999996,186.938L183.51799999999994,189.487L180.32999999999996,187.15099999999998L183.09899999999996,189.27999999999997L184.91099999999997,191.63299999999998L183.52799999999996,189.49499999999998L184.58999999999997,190.34599999999998L185.86699999999996,193.11499999999998L185.30299999999997,192.242L186.93399999999997,196.523L186.72099999999998,197.587L185.658,198.65099999999998L186.509,199.927L186.083,200.56699999999998L187.786,202.909L190.263,206.21099999999998L190.34300000000002,206.52999999999997L191.62,207.59399999999997L194.167,207.77599999999995V117.34999999999995H113.819ZM172.887,189.499L173.1,188.434H171.608L172.036,187.157L165.008,188.64700000000002L164.58200000000002,189.711L165.86,191.20200000000003L167.77800000000002,190.98900000000003L169.26800000000003,190.56200000000004L170.97100000000003,191.41500000000005L171.82300000000004,190.77500000000006L172.03600000000003,189.92200000000005H174.80600000000004L175.23000000000005,189.07100000000005L173.74000000000004,188.43200000000004L172.887,189.499Z" stroke-width="1" stroke-linejoin="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); stroke-linejoin: round; cursor: pointer;"></path><path fill="#333333" stroke="#666666" d="M112.615,33.818L112.189,33.393L111.33699999999999,33.18L110.05899999999998,33.393L110.91099999999999,34.032000000000004L111.12399999999998,34.884L110.27199999999998,33.819L110.90999999999998,34.884L110.69799999999998,34.671L110.48499999999999,35.097L110.05899999999998,34.671L109.84599999999999,35.522999999999996L109.41999999999999,34.458999999999996L108.99399999999999,35.098L110.05799999999999,38.08H109.63199999999999L109.419,37.015L108.354,35.95V37.654L107.715,38.293000000000006L108.141,37.44100000000001L107.715,36.80200000000001L108.141,36.589000000000006L107.92800000000001,35.312000000000005L108.56700000000001,33.821000000000005H108.141L108.99300000000001,33.609L108.56700000000001,32.97L108.99300000000001,32.757999999999996L107.50200000000001,31.692999999999994L107.29,32.117999999999995L105.373,29.136999999999993L103.882,28.284999999999993L103.66900000000001,27.432999999999993L103.03000000000002,27.21999999999999L103.24300000000001,27.857999999999993L102.60400000000001,27.21999999999999L102.17800000000001,27.644999999999992V27.22L101.75200000000001,27.645L101.32600000000001,26.581L100.048,26.154V26.581L99.196,26.368L99.622,27.433L100.474,27.858L100.101,27.805L98.983,27.645L99.196,28.285L98.77,28.71L98.557,28.285L98.34400000000001,29.562L97.70500000000001,28.285L97.27900000000001,28.497L97.70500000000001,27.433L96.42800000000001,28.285L96.21500000000002,28.71L96.64100000000002,29.136L95.78900000000002,29.561999999999998L95.57600000000002,28.496999999999996H95.15L95.57600000000001,28.071999999999996H95.15L95.57600000000001,27.645999999999997L94.93700000000001,28.071999999999996L94.29800000000002,27.858999999999995V28.285999999999994L94.08500000000002,27.858999999999995V28.285999999999994L95.36300000000003,28.924999999999994L94.51100000000002,29.563999999999993L94.72400000000002,30.201999999999995L94.08500000000002,30.628999999999994L94.51100000000002,31.480999999999995H93.65900000000002V32.54599999999999L93.02000000000002,31.906999999999993L93.23200000000003,31.05399999999999L92.38000000000002,31.266999999999992V30.627999999999993L91.74100000000003,32.331999999999994L91.95400000000002,30.414999999999992L92.38000000000002,29.775999999999993L91.52800000000002,29.349999999999994V31.692999999999994L90.88900000000002,31.479999999999993L90.46300000000002,32.331999999999994L90.25000000000003,31.692999999999994L89.82400000000003,32.117999999999995L90.03700000000002,31.265999999999995L89.18500000000002,32.117999999999995L89.61100000000002,32.330999999999996L88.33300000000001,32.97L88.97200000000001,33.823H89.611L88.759,34.463L90.037,34.888L90.25,34.463L90.676,34.675000000000004L89.824,35.527L90.888,35.953H89.82400000000001L89.39800000000001,35.314L88.546,35.953L87.90700000000001,34.463L87.48100000000001,34.675000000000004L87.694,35.527L86.416,35.74L86.842,35.953L86.629,36.592000000000006L87.90700000000001,35.74000000000001L86.629,36.80500000000001L87.055,37.23100000000001L88.12,36.59100000000001V37.01700000000001H88.546L87.90700000000001,37.65600000000001L89.18400000000001,38.72000000000001L88.12,37.868000000000016L87.694,38.29300000000001L87.268,37.44100000000002L86.416,37.22900000000001V36.80300000000001L85.777,37.22900000000001L85.351,38.08100000000001L85.138,37.65400000000001L84.926,38.29300000000001L84.074,38.08100000000001L84.28699999999999,38.29300000000001L83.43499999999999,38.933000000000014L83.86099999999999,39.14500000000002L83.222,39.35800000000002L84.074,41.70000000000002L84.28699999999999,41.32800000000002V41.488000000000014L84.713,40.84800000000001L84.35799999999999,41.20300000000001L84.92599999999999,40.20900000000001L85.56499999999998,39.78400000000001L85.13899999999998,40.20900000000001H85.77799999999998L84.92599999999997,40.84800000000001L84.71299999999998,42.33900000000001H85.13899999999998L84.28699999999998,42.76400000000001L84.71299999999998,42.97700000000001L84.28699999999998,43.19000000000001L83.86099999999998,42.125000000000014L83.43499999999997,44.042000000000016L84.92599999999997,43.829000000000015L86.20399999999998,44.46800000000002L87.26899999999998,44.256000000000014L86.20399999999998,44.68100000000001L85.77799999999998,44.256000000000014L83.86099999999998,44.46800000000002L83.43499999999997,44.042000000000016L83.00899999999997,44.46800000000002L83.38199999999998,44.692000000000014L82.37099999999998,44.89500000000002L83.00999999999998,44.682000000000016L82.37099999999998,44.469000000000015L81.73199999999999,43.61700000000002L80.24099999999999,42.978000000000016L80.87999999999998,43.61700000000002H80.45399999999998L80.87999999999998,44.25700000000002L80.02799999999998,43.61700000000002V43.83000000000002L78.96299999999998,43.40400000000002H79.38899999999998L79.17699999999998,42.978000000000016H79.60299999999998L78.75099999999998,42.55300000000002V42.978000000000016L78.11199999999998,42.765000000000015L78.32499999999997,43.192000000000014L77.89899999999997,42.765000000000015L78.32499999999997,43.405000000000015L77.89899999999997,43.61700000000002L78.75099999999998,43.83000000000002L78.96299999999998,44.25600000000002L78.32399999999998,44.04300000000002L78.96299999999998,44.46900000000002H77.48L78.54400000000001,45.108000000000025H77.05400000000002L77.48000000000002,45.74700000000003L77.69200000000002,45.321000000000026L78.33100000000002,45.53400000000003L77.47900000000001,46.17300000000003L78.96900000000001,46.59900000000003L79.39500000000001,47.87700000000003L80.24700000000001,47.45100000000003V47.02500000000003L80.67300000000002,47.23800000000003L79.60900000000001,48.303000000000026L80.03500000000001,48.72900000000003L79.39600000000002,48.51600000000003L80.46100000000001,50.43300000000003L78.54400000000001,48.51600000000003L77.90500000000002,48.72900000000003L78.75700000000002,50.21900000000003L78.33100000000002,50.00600000000003L77.90500000000002,51.071000000000026V52.136000000000024L76.62700000000001,50.858000000000025L75.98800000000001,48.72900000000003L75.13600000000001,48.08900000000003V46.385000000000026H74.49700000000001L73.85800000000002,45.74600000000002L74.07100000000001,44.89400000000003L74.71000000000001,44.681000000000026L74.284,44.04200000000002L73.64500000000001,44.255000000000024L72.367,46.38400000000002L73.006,47.023000000000025L71.302,46.81100000000002L71.08900000000001,47.450000000000024L71.51500000000001,48.30200000000002L70.66300000000001,47.87600000000002V48.30200000000002L69.811,48.51500000000002L69.17200000000001,49.36700000000002L69.59800000000001,49.58000000000002L68.53300000000002,50.432000000000016L68.32000000000002,52.34800000000001L68.95900000000002,53.83900000000001L68.53300000000002,55.33000000000001L70.02400000000002,55.54300000000001V56.39500000000001L67.04300000000002,58.52500000000001L66.19100000000002,58.737000000000016L65.55200000000002,59.58900000000001L65.97800000000002,60.22900000000001L64.91300000000003,60.44100000000002L65.12600000000002,61.29300000000001L64.06100000000002,63.210000000000015L61.50600000000002,66.40500000000002L55.54300000000002,68.96100000000001L54.05200000000002,69.174H52.56100000000002L51.924,69.6L51.072,70.23899999999999L50.434,69.6L48.516999999999996,69.17399999999999L48.73,69.6V69.81299999999999L48.517,69.6L48.091,69.387L47.878,69.6L46.387,71.517L41.915,72.369V71.943L40.211,73.008L40.424,73.434H39.785L39.358999999999995,74.286L38.294,74.499V74.286L36.589999999999996,75.138L35.312,74.49900000000001L35.099,73.85900000000001L33.608,74.71100000000001L32.968999999999994,74.49900000000001L32.54299999999999,74.28600000000002L33.181999999999995,73.22100000000002H32.75599999999999L31.690999999999992,74.49900000000002L31.90299999999999,74.71100000000003H31.476999999999993L29.347999999999992,75.77600000000002L28.708999999999993,75.35000000000002L28.49599999999999,76.41400000000002L26.79199999999999,77.26600000000002L26.15299999999999,78.54400000000003L25.08899999999999,78.75700000000002L24.02399999999999,80.46100000000001L19.97799999999999,81.52600000000001L18.27399999999999,82.59L18.06099999999999,83.86800000000001L17.63499999999999,84.081L17.208999999999993,83.86800000000001L17.421999999999993,84.72000000000001L16.782999999999994,85.78500000000001L17.208999999999993,86.21100000000001L16.782999999999994,85.99900000000001L16.994999999999994,86.424L16.142999999999994,87.489L15.716999999999993,86.85000000000001L14.651999999999994,87.489L15.077999999999994,85.99900000000001L14.651999999999994,86.424L14.438999999999995,84.93400000000001L15.290999999999995,82.37800000000001L13.8,82.804L11.671000000000001,87.915L12.736,90.68400000000001L12.31,91.96200000000002L12.523,94.51700000000002L10.394,97.49900000000002L9.968,101.33200000000002L11.672,104.10100000000003L11.459000000000001,104.52800000000003L11.885000000000002,106.23200000000003L12.737000000000002,106.87100000000002L15.079000000000002,111.55600000000003L15.718000000000002,111.76900000000002L15.930000000000001,112.83300000000003H15.291000000000002L15.504000000000001,115.17600000000003L14.440000000000001,116.45300000000003L13.375000000000002,114.74900000000004L13.162000000000003,112.40700000000004V113.47200000000004L12.097000000000003,114.32400000000004L12.310000000000002,111.98100000000004L10.606000000000002,109.21200000000003L9.967000000000002,110.91600000000003L10.393000000000002,111.34200000000003V110.49000000000002L11.032000000000002,113.68400000000003L13.162000000000003,115.38800000000002L12.949000000000003,117.30500000000002L11.672000000000004,117.94500000000002L11.459000000000005,116.45400000000002L11.246000000000006,117.73200000000003L10.820000000000006,115.17600000000003L10.607000000000006,116.45300000000003L9.755000000000006,113.04600000000003L9.968000000000005,115.81500000000004L9.329000000000006,115.38900000000004V113.04700000000004L9.116000000000007,114.75100000000003L8.264000000000006,114.11200000000004L13.801000000000005,122.20500000000004L15.079000000000006,125.61200000000004L14.653000000000006,126.67700000000004L15.079000000000006,128.80600000000004L17.422000000000004,131.57500000000005L18.061000000000003,132.85300000000004L17.848000000000003,133.70500000000004L19.765000000000004,136.26200000000003L20.617000000000004,139.24200000000002L20.404000000000003,143.07500000000002V143.502L21.043000000000003,146.90900000000002L25.302000000000003,155.853L25.515000000000004,159.04600000000002L26.580000000000005,158.407V158.83200000000002L25.515000000000004,159.04600000000002L25.728000000000005,160.11L25.302000000000007,160.74900000000002L25.515000000000008,162.24000000000004L24.663000000000007,163.94400000000005L25.302000000000007,168.84000000000003L22.960000000000008,171.61000000000004H21.895000000000007L20.617000000000008,170.75700000000003V175.23100000000002L21.46900000000001,177.57300000000004L21.681000000000008,177.14700000000005L22.959000000000007,176.93400000000005L25.301000000000005,178.21100000000004L27.218000000000007,181.19100000000003L29.773000000000007,182.04400000000004L29.986000000000008,181.40500000000003L30.838000000000008,182.04400000000004H29.773000000000007L31.477000000000007,183.10700000000003L32.11600000000001,182.46800000000002L33.394000000000005,183.10700000000003L36.37500000000001,182.68300000000002L38.07900000000001,183.74500000000003L38.50500000000001,182.89300000000003L40.42200000000001,183.53300000000002L40.84800000000001,183.32000000000002L39.78400000000001,182.89300000000003L40.210000000000015,182.04000000000002L40.63600000000002,181.82700000000003L40.423000000000016,182.68000000000004H42.12700000000002L41.914000000000016,182.04000000000005L43.405000000000015,181.82700000000006L43.618000000000016,180.54900000000006L45.53500000000002,179.69700000000006L45.74700000000002,178.84500000000006L46.81200000000002,178.41700000000006L46.38600000000002,177.99200000000005L49.155000000000015,178.84500000000006L49.368000000000016,177.99200000000005L50.22000000000001,178.20500000000004V177.35200000000003L51.28500000000001,177.56500000000003L50.433000000000014,176.71200000000002L53.414000000000016,173.943H54.05300000000002L56.82100000000002,174.369L57.88600000000002,173.517L63.210000000000015,172.877L65.97900000000001,173.73000000000002L67.46900000000001,173.091L68.32100000000001,174.58100000000002H69.38600000000001L69.81200000000001,173.727L71.30300000000001,174.154L71.51500000000001,173.514L74.28400000000002,173.30100000000002L74.92300000000002,173.727L75.13600000000001,174.58100000000002L76.62700000000001,173.51700000000002L77.691,173.943L80.673,170.96200000000002L81.525,167.555L82.37700000000001,166.703L86.21000000000001,165.425L93.87700000000001,160.953L95.581,160.52700000000002L98.776,160.953L102.396,160.739L109.21000000000001,158.61L113.852,156.28900000000002V44.302L113.471,44.683L113.044,44.47V46.174L112.40599999999999,47.025V46.812999999999995L112.61899999999999,46.38699999999999L111.34099999999998,45.96099999999999L111.55399999999997,45.108999999999995L110.91499999999998,45.535L111.76699999999998,44.044L111.55399999999999,43.406H112.192L111.767,42.766L112.832,42.128L112.40599999999999,42.766L112.832,42.979L113.684,42.341L113.852,42.383V33.818000000000005H112.615ZM83.443,45.535V44.724999999999994L84.082,45.108999999999995L83.443,45.535ZM113.852,44.081V43.35L113.684,43.406L113.852,44.081Z" stroke-width="1" stroke-linejoin="round" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0); stroke-linejoin: round; cursor: pointer;"></path></svg></p>

<p>The problem is, how do you generate those images
in a simple way from the server? There is no notion
of DOM and window until you really deliver your
response to the client, right?</p>

<h2>A simple approach</h2>

<p>It all starts from one docker container that
runs (sorry :-P) IO.js:</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>FROM iojs:2.0
</span><span class='line'>
</span><span class='line'>RUN npm install -g nodemon
</span><span class='line'>COPY . /src
</span><span class='line'>WORKDIR /src
</span><span class='line'>
</span><span class='line'>CMD iojs index.js</span></code></pre></td></tr></table></div></figure>


<p>At this point, you need to do simply create an <code>index.js</code>
that will run our server and <code>npm install</code> 2 dependencies,
<a href="http://npmjs.org/package/raphael">raphael</a> and
<a href="http://npmjs.org/package/jsdom">jsdom</a>.</p>

<p>Now, jsdom will be taking care of creating a virtual
browser window and environment for raphael which, as
soon as you require it, will be trying to access some
global objects that are only available on a browser:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
<span class='line-number'>43</span>
<span class='line-number'>44</span>
<span class='line-number'>45</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="kd">var</span> <span class="nx">http</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;http&#39;</span><span class="p">)</span>
</span><span class='line'><span class="kd">var</span> <span class="nx">jsdom</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;jsdom&#39;</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// create the server</span>
</span><span class='line'><span class="nx">http</span><span class="p">.</span><span class="nx">createServer</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">req</span><span class="p">,</span> <span class="nx">res</span><span class="p">){</span>
</span><span class='line'>  <span class="c1">// on every request, create a virtual window</span>
</span><span class='line'>  <span class="nx">jsdom</span><span class="p">.</span><span class="nx">env</span><span class="p">(</span>
</span><span class='line'>    <span class="s2">&quot;&lt;html&gt;&lt;/html&gt;&quot;</span><span class="p">,</span>
</span><span class='line'>    <span class="p">[],</span>
</span><span class='line'>    <span class="kd">function</span> <span class="p">(</span><span class="nx">errors</span><span class="p">,</span> <span class="nx">win</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>      <span class="k">if</span> <span class="p">(</span><span class="nx">errors</span><span class="p">)</span> <span class="p">{</span>
</span><span class='line'>        <span class="k">throw</span> <span class="nx">errors</span><span class="p">;</span>
</span><span class='line'>      <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
</span><span class='line'>        <span class="c1">// create / override the global window</span>
</span><span class='line'>        <span class="c1">// object, as raphael will access it</span>
</span><span class='line'>        <span class="c1">// globally</span>
</span><span class='line'>        <span class="nx">global</span><span class="p">.</span><span class="nb">window</span> <span class="o">=</span> <span class="nx">win</span>
</span><span class='line'>        <span class="nx">global</span><span class="p">.</span><span class="nb">document</span> <span class="o">=</span> <span class="nx">win</span><span class="p">.</span><span class="nb">document</span>
</span><span class='line'>        <span class="nx">global</span><span class="p">.</span><span class="nx">navigator</span> <span class="o">=</span> <span class="nx">win</span><span class="p">.</span><span class="nx">navigator</span>
</span><span class='line'>
</span><span class='line'>        <span class="kd">var</span> <span class="nx">raphael</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;raphael&#39;</span><span class="p">)</span>
</span><span class='line'>        <span class="nx">raphael</span><span class="p">.</span><span class="nx">setWindow</span><span class="p">(</span><span class="nx">win</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'>        <span class="c1">// start drawing some stuff with raphael,</span>
</span><span class='line'>        <span class="c1">// which will write to the virtual &quot;window&quot;</span>
</span><span class='line'>        <span class="kd">var</span> <span class="nx">paper</span> <span class="o">=</span> <span class="nx">raphael</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">30</span><span class="p">,</span> <span class="s2">&quot;100%&quot;</span><span class="p">,</span> <span class="s2">&quot;100%&quot;</span><span class="p">);</span>
</span><span class='line'>        <span class="kd">var</span> <span class="nx">text</span> <span class="o">=</span> <span class="nx">paper</span><span class="p">.</span><span class="nx">text</span><span class="p">(</span><span class="s2">&quot;50%&quot;</span><span class="p">,</span> <span class="mi">40</span><span class="p">,</span> <span class="s2">&quot;Some text&quot;</span><span class="p">);</span>
</span><span class='line'>
</span><span class='line'>        <span class="c1">// now, to generate a plain SVG,</span>
</span><span class='line'>        <span class="c1">// let&#39;s just strip the HTML tags</span>
</span><span class='line'>        <span class="c1">// surrounding it</span>
</span><span class='line'>        <span class="nx">svg</span> <span class="o">=</span> <span class="nx">win</span><span class="p">.</span><span class="nb">document</span><span class="p">.</span><span class="nx">documentElement</span><span class="p">.</span><span class="nx">innerHTML</span>
</span><span class='line'>        <span class="nx">svg</span> <span class="o">=</span> <span class="nx">svg</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="s1">&#39;&lt;head&gt;&lt;/head&gt;&lt;body&gt;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
</span><span class='line'>        <span class="nx">svg</span> <span class="o">=</span> <span class="nx">svg</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="s1">&#39;&lt;/body&gt;&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">)</span>
</span><span class='line'>
</span><span class='line'>        <span class="c1">// let&#39;s serve the plain SVG, so that</span>
</span><span class='line'>        <span class="c1">// it can be embedded in HTML pages with</span>
</span><span class='line'>        <span class="c1">// &lt;object type=&quot;image/svg+xml&quot; data=&quot;http://localhost:3000/&quot;&gt;</span>
</span><span class='line'>        <span class="nx">res</span><span class="p">.</span><span class="nx">writeHead</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span> <span class="p">{</span><span class="s2">&quot;Content-Type&quot;</span><span class="o">:</span> <span class="s2">&quot;image/svg+xml&quot;</span><span class="p">})</span>
</span><span class='line'>        <span class="nx">res</span><span class="p">.</span><span class="nx">write</span><span class="p">(</span><span class="nx">svg</span><span class="p">);</span>
</span><span class='line'>        <span class="nx">res</span><span class="p">.</span><span class="nx">end</span><span class="p">();</span>
</span><span class='line'>      <span class="p">}</span>
</span><span class='line'>    <span class="p">}</span>
</span><span class='line'>  <span class="p">);</span>
</span><span class='line'><span class="p">}).</span><span class="nx">listen</span><span class="p">(</span><span class="mi">3000</span><span class="p">)</span>
</span></code></pre></td></tr></table></div></figure>


<p><img class="right" src="/images/raphael-text.png"></p>

<p>Now, the code is ghetto as hell, and that&rsquo;s the way it&rsquo;s
supposed to be in a sample post like this one &mdash; you will
definitely ned to address a couple things if you want to
do more complex things:</p>

<ul>
<li>now raphael &ldquo;draws&rdquo; a global window object, while you
should probably initialize a global window and a &ldquo;local&rdquo;
one and assign a new, local one to a new instance of
raphael on every request (note the <code>setWindow</code> method)<sup id='fnref:1'><a href='#fn:1' rel='footnote'>1</a></sup></li>
<li>in general, it would be nice to split responsibilities
around rather than having a one-file thingy</li>
<li>you definitely want to render more than &ldquo;Some text&rdquo; :)</li>
</ul>


<p>This would probably be a good place to start to create
a dev-friendly interface:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
<span class='line-number'>23</span>
<span class='line-number'>24</span>
<span class='line-number'>25</span>
<span class='line-number'>26</span>
<span class='line-number'>27</span>
<span class='line-number'>28</span>
<span class='line-number'>29</span>
<span class='line-number'>30</span>
<span class='line-number'>31</span>
<span class='line-number'>32</span>
<span class='line-number'>33</span>
<span class='line-number'>34</span>
<span class='line-number'>35</span>
<span class='line-number'>36</span>
<span class='line-number'>37</span>
<span class='line-number'>38</span>
<span class='line-number'>39</span>
<span class='line-number'>40</span>
<span class='line-number'>41</span>
<span class='line-number'>42</span>
</pre></td><td class='code'><pre><code class='javascript'><span class='line'><span class="c1">// index.js</span>
</span><span class='line'><span class="nx">raphael</span><span class="p">.</span><span class="nx">initialize</span><span class="p">()</span>
</span><span class='line'>
</span><span class='line'><span class="nx">raphael</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">&#39;ready&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(){</span>
</span><span class='line'>  <span class="nx">http</span><span class="p">.</span><span class="nx">createServer</span><span class="p">(</span><span class="nx">raphael</span><span class="p">.</span><span class="nx">draw</span><span class="p">).</span><span class="nx">listen</span><span class="p">(</span><span class="mi">3000</span><span class="p">)</span>
</span><span class='line'><span class="p">})</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// raphael.js</span>
</span><span class='line'><span class="nx">raphael</span><span class="p">.</span><span class="nx">initialize</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
</span><span class='line'>  <span class="k">return</span> <span class="nx">dom</span><span class="p">.</span><span class="nx">initialize</span><span class="p">()</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="nx">raphael</span><span class="p">.</span><span class="nx">draw</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">req</span><span class="p">,</span> <span class="nx">res</span><span class="p">){</span>
</span><span class='line'>  <span class="nx">dom</span><span class="p">.</span><span class="nx">createWindow</span><span class="p">().</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">win</span><span class="p">){</span>
</span><span class='line'>    <span class="kd">var</span> <span class="nx">R</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;raphael&#39;</span><span class="p">)</span>
</span><span class='line'>    <span class="nx">R</span><span class="p">.</span><span class="nx">setWindow</span><span class="p">(</span><span class="nx">win</span><span class="p">)</span>
</span><span class='line'>    <span class="c1">// do some real stuff with raphael</span>
</span><span class='line'>    <span class="c1">// ...</span>
</span><span class='line'>    <span class="nx">res</span><span class="p">.</span><span class="nx">end</span><span class="p">()</span>
</span><span class='line'>  <span class="p">});</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="c1">// dom.js</span>
</span><span class='line'><span class="nx">dom</span><span class="p">.</span><span class="nx">initialize</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
</span><span class='line'>  <span class="nx">dom</span><span class="p">.</span><span class="nx">createWindow</span><span class="p">().</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">win</span><span class="p">){</span>
</span><span class='line'>    <span class="c1">// ...</span>
</span><span class='line'>    <span class="nx">global</span><span class="p">.</span><span class="nb">window</span> <span class="o">=</span> <span class="nx">win</span>
</span><span class='line'>    <span class="nx">global</span><span class="p">.</span><span class="nb">document</span> <span class="o">=</span> <span class="nx">win</span><span class="p">.</span><span class="nb">document</span>
</span><span class='line'>    <span class="nx">global</span><span class="p">.</span><span class="nx">navigator</span> <span class="o">=</span> <span class="nx">win</span><span class="p">.</span><span class="nx">navigator</span>
</span><span class='line'>
</span><span class='line'>    <span class="nx">dom</span><span class="p">.</span><span class="nx">emit</span><span class="p">(</span><span class="s1">&#39;ready&#39;</span><span class="p">)</span>
</span><span class='line'>  <span class="p">})</span>
</span><span class='line'><span class="p">}</span>
</span><span class='line'>
</span><span class='line'><span class="nx">dom</span><span class="p">.</span><span class="nx">createWindow</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(){</span>
</span><span class='line'>  <span class="k">return</span> <span class="nx">Promise</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">resolve</span><span class="p">,</span> <span class="nx">reject</span><span class="p">){</span>
</span><span class='line'>    <span class="nx">jsdom</span><span class="p">.</span><span class="nx">env</span><span class="p">(</span><span class="s2">&quot;&lt;html&gt;&lt;/html&gt;&quot;</span><span class="p">,</span> <span class="p">[],</span> <span class="kd">function</span><span class="p">(</span><span class="nx">errors</span><span class="p">,</span> <span class="nx">win</span><span class="p">){</span>
</span><span class='line'>      <span class="c1">// ...</span>
</span><span class='line'>      <span class="nx">resolve</span><span class="p">(</span><span class="nx">win</span><span class="p">)</span>
</span><span class='line'>    <span class="p">})</span>
</span><span class='line'>  <span class="p">});</span>
</span><span class='line'><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>(note that this example assumes you handle errors on
your own and have been used to promise libraries
such as <a href="https://github.com/kriskowal/q">Q</a> or
<a href="https://github.com/petkaantonov/bluebird">Bluebird</a>)</p>

<h2>To wrap up</h2>

<p>So yeah,  it&rsquo;s definitely simple to start generating SVGs
from the server through Raphael, though the approach is
quite hackish &mdash; and, to be honest, you might find even
more gotchas since it&rsquo;s running on a virtual DOM / window.</p>

<p>But, at the same time, this gives you an idea on how feasible
something like this can be &mdash; for example, do you know those
badges you see in a lot of github repos? They come from <a href="http://shields.io/">shields.io</a>,
that empowers a similar approach, although it&rsquo;s simpler but
more structured (they generated SVGs from <a href="https://raw.githubusercontent.com/badges/shields/ecde9bb3d09cd8600882448275459b0de6e7e247/templates/plastic-template.svg">templates</a>, which
I think it&rsquo;s a pretty solid and robust idea).</p>

<p>In one of the next posts I am actually planning to show a simple
way to roll your own badge generator out. Not that you should,
but it&rsquo;s definitely nice to see how these things work :)</p>

<div class="footnotes">
<span>
Notes
</span>
    <ol>
        <li id='fn:1'>The ideal solution would be to inject the window to Raphael, but I dont think that&#8217;s currently possible, see: https://github.com/DmitryBaranovskiy/raphael/blob/master/raphael.js#L400 but correct me if I&#8217;m wrong <a href='#fnref:1' rev='footnote'>â©</a></li>
    </ol>
</div>

</div>



<div class="recent entry-content">
  <hr class="divider-cazzuto">
  <h3>
    In the mood for some more reading?
  </h3>
  <ul>
    
      <li><a href="/book-review-working-backwards/">Book review: Working Backwards</a> (24 July 2021)</li>
    
      <li><a href="/fwupd-is-the-best-thing-that-ever-happened-to-linux/">fwupd is the best thing that ever happened to Linux</a> (15 April 2021)</li>
    
      <li><a href="/avoid-battery-draining-on-your-linux-flavored-dell-xps/">Avoid battery draining on your Linux-flavored Dell XPS</a> (31 January 2021)</li>
    
      <li><a href="/combining-two-numbers-into-a-unique-one-pairing-functions/">Combining two numbers into a unique one: pairing functions</a> (05 December 2020)</li>
    
      <li><a href="/running-ci-tests-in-kubernetes-through-github-actions/">Running CI tests in Kubernetes through Github Actions</a> (20 March 2020)</li>
    
      <li><a href="/ive-decided-to-make-the-wasec-ebook-free-during-these-trying-times/">I've decided to make the WASEC ebook free during these trying times</a> (20 March 2020)</li>
    
      <li><a href="/local-k8s-development-in-2020/">Local k8s development in 2020</a> (31 December 2019)</li>
    
  </ul>
    <p>
      ...or <a href="/archives/">check the archives</a>.
    </p>
</div>
<script src="//cdnjs.cloudflare.com/ajax/libs/anchor-js/3.2.0/anchor.min.js"></script>
<script type="text/javascript" />
(function () {
  'use strict';

  anchors.options = {
    placement: 'left',
    visible: 'hover',
    icon: 'Â¶'
  };

  anchors.add('h2');
  anchors.add('h3');
  anchors.add('h4');

})();
</script>

			<footer>
				<center>
	Copyleft <!--[if lte IE 8]><span style="filter: FlipH; -ms-filter: "FlipH"; display: inline-block;"><![endif]--><span style="-moz-transform: scaleX(-1); -o-transform: scaleX(-1); -webkit-transform: scaleX(-1); transform: scaleX(-1); display: inline-block;">Â©</span><!--[if lte IE 8]></span><![endif]--> 2021 â Alessandro Nadalin
	<address>
	</address>
</center>
			</footer>
		</div>
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-7407627-3', 'auto');
      ga('send', 'pageview');
	</script>
	
	<script type="application/ld+json">
		{
		"@context": "https://schema.org/",
		"@type": "BlogPosting",
		"mainEntityOfPage": {
			"@type": "WebPage",
			"@id": "https://odino.org/generating-svgs-with-raphaeljs-and-nodejs/"
		},
		"headline": "Generating SVGs with RaphaelJS and NodeJS",
		"description": "One of these mornings, in need of generating images with 'copyable' text with Node, I had the chance to play around with RaphaelJS",
		
		"author": {
			"@type": "Person",
			"name": "Alessandro Nadalin"
		},
		"datePublished": "2015-05-16 02:52:00 +0000"
		}
	</script>
	
	</body>
</html>
<!-- END _layouts/default.html -->
